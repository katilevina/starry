# Perplexity API Setup Guide

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Perplexity API –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Claude Code skill.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+ –∏ npm
- –ê–∫–∫–∞—É–Ω—Ç Perplexity AI
- API –∫–ª—é—á Perplexity

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

–ï—Å–ª–∏ Node.js –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

### macOS (—á–µ—Ä–µ–∑ Homebrew):
```bash
brew install node
```

### macOS/Linux (—á–µ—Ä–µ–∑ nvm):
```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 20
nvm use 20
```

### Windows:
–°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å https://nodejs.org/

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
node --version  # –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å v18+ –∏–ª–∏ v20+
npm --version
```

## –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞ Perplexity

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.perplexity.ai/
2. –ù–∞–∂–º–∏—Ç–µ "Sign Up" (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞)
3. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google, Apple –∏–ª–∏ email

### 2.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª—é—á–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É API –Ω–∞—Å—Ç—Ä–æ–µ–∫: https://www.perplexity.ai/settings/api
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Generate API Key"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pplx-`)
4. ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

### 2.3 –ü–æ–¥–ø–∏—Å–∫–∞

Perplexity API —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±–∏–ª–ª–∏–Ω–≥: https://www.perplexity.ai/settings/billing
- –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–ª–∞–Ω
- –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

**–¶–µ–Ω—ã (–º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è):**
- Search API: ~$0.005 –∑–∞ –∑–∞–ø—Ä–æ—Å
- Chat API (Sonar models): ~$0.20-1.00 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ skill

### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é scripts:
```bash
cd /Users/brzvsk/Documents/KB/.claude/skills/perplexity/scripts
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```bash
echo "PERPLEXITY_API_KEY=your_api_key_here" > .env
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Ñ–∞–π–ª `.env` —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```env
PERPLEXITY_API_KEY=pplx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

‚ö†Ô∏è **–ó–∞–º–µ–Ω–∏—Ç–µ** `pplx-xxxxxxxx...` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π API –∫–ª—é—á!

### 3.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞

```bash
cat .env
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
PERPLEXITY_API_KEY=pplx-–≤–∞—à-–∫–ª—é—á
```

## –®–∞–≥ 4: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

### 4.1 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript:

```bash
cd /Users/brzvsk/Documents/KB/.claude/skills/perplexity/scripts
./perplexity.sh "test search" -l 3
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏...
üî® –ö–æ–º–ø–∏–ª–∏—Ä—É—é TypeScript...
‚úì –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Perplexity API
üîç –ü–æ–∏—Å–∫: "test search"
‚úì –ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: 3
‚úì –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: .../out/perplexity_search_test_search_*.md
```

### 4.2 –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é:

```bash
cd /Users/brzvsk/Documents/KB/.claude/skills/perplexity/scripts

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞
./perplexity.sh "test" -l 3
```

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç Search API:
```bash
./perplexity.sh "latest AI news" -l 5 -r week
```

### –¢–µ—Å—Ç Chat API:
```bash
./perplexity.sh "explain machine learning" --chat
```

### –¢–µ—Å—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:
```bash
./perplexity.sh "python tutorials" -d python.org -d realpython.com -l 10
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "Node.js –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
which node

# –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js (—Å–º. –®–∞–≥ 1)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "PERPLEXITY_API_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ .env —Ñ–∞–π–ª–∞
cd .claude/skills/perplexity/scripts
ls -la .env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat .env

# –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç –∏–ª–∏ –ø—É—Å—Ç–æ–π, —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ (—Å–º. –®–∞–≥ 3)
echo "PERPLEXITY_API_KEY=pplx-–≤–∞—à-–∫–ª—é—á" > .env
```

### –ü—Ä–æ–±–ª–µ–º–∞: "401 Unauthorized" –∏–ª–∏ "Invalid API key"

**–ü—Ä–∏—á–∏–Ω—ã:**
- API –∫–ª—é—á –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–ª
- –ö–ª—é—á –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª–µ
2. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –Ω–∞ https://www.perplexity.ai/settings/api
3. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏: https://www.perplexity.ai/settings/billing

### –ü—Ä–æ–±–ª–µ–º–∞: "npm install" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å npm
npm install -g npm@latest

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
npm cache clean --force

# –£–¥–∞–ª–∏—Ç—å node_modules –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
rm -rf node_modules package-lock.json
npm install
```

### –ü—Ä–æ–±–ª–µ–º–∞: TypeScript –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é TypeScript
npx tsc --version

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules dist
npm install

# –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
npm run build
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ ./perplexity.sh

**–†–µ—à–µ–Ω–∏–µ:**
```bash
chmod +x /Users/brzvsk/Documents/KB/.claude/skills/perplexity/scripts/perplexity.sh
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª –≤ git**
   - –§–∞–π–ª `.env` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `git status` –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `.env`

2. **–ù–µ –¥–µ–ª–∏—Ç–µ—Å—å API –∫–ª—é—á–æ–º**
   - –ö–ª—é—á –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –∞–∫–∫–∞—É–Ω—Ç—É
   - –ü—Ä–∏ —É—Ç–µ—á–∫–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á

3. **–•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `.env` —Ñ–∞–π–ª
   - –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

4. **–†–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π**
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ API –∫–ª—é—á–∏
   - –£–¥–∞–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª—é—á–∏

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.perplexity.ai/settings/api
2. –ù–∞–∂–º–∏—Ç–µ "Generate API Key"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
4. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª

### –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–ª—é—á–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.perplexity.ai/settings/api
2. –ù–∞–π–¥–∏—Ç–µ –∫–ª—é—á –≤ —Å–ø–∏—Å–∫–µ
3. –ù–∞–∂–º–∏—Ç–µ "Revoke" –∏–ª–∏ "Delete"

### –°–º–µ–Ω–∞ –∫–ª—é—á–∞ –≤ skill:
```bash
cd .claude/skills/perplexity/scripts

# –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á
echo "PERPLEXITY_API_KEY=pplx-–Ω–æ–≤—ã–π-–∫–ª—é—á" > .env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
./perplexity.sh "test" -l 3
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.perplexity.ai/settings/billing
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ "Usage" –∏–ª–∏ "Billing History"
3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∑–∞—Ç—Ä–∞—Ç—ã

### –õ–∏–º–∏—Ç—ã:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–∏–º–∏—Ç—ã —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–∏–ª–ª–∏–Ω–≥–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–æ–≤.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://docs.perplexity.ai/
- **API Reference**: https://docs.perplexity.ai/api-reference/
- **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: —Å–º. `examples.md`
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞**: —Å–º. `reference.md`
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: support@perplexity.ai

## –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Perplexity skill —á–µ—Ä–µ–∑ Claude Code:

```
User: Search for latest AI developments
Claude: [–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç perplexity skill –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫]
```

–ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
cd .claude/skills/perplexity/scripts
./perplexity.sh "your search query"
```
